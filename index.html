<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Blue Dolphin Beach Home</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Basic SEO -->
  <meta
    name="description"
    content="Blue Dolphin Beach Home ‚Äì a Sardinian vacation home near the beach, opening for guests in 2026."
  />

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="favicon.png" />

  <!-- Open Graph -->
  <meta property="og:title" content="Blue Dolphin Beach Home" />
  <meta
    property="og:description"
    content="We are working on our Sardinian vacation home! See you in 2026. üê¨üåä"
  />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://bluedolphinbeachhome.com/" />
  <meta
    property="og:image"
    content="https://bluedolphinbeachhome.com/BlueDolphinWHITE_Sunset.jpg"
  />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Blue Dolphin Beach Home" />
  <meta
    name="twitter:description"
    content="We are working on our Sardinian vacation home! See you in 2026. üê¨üåä"
  />
  <meta
    name="twitter:image"
    content="https://bluedolphinbeachhome.com/BlueDolphinWHITE_Sunset.jpg"
  />

  <style>
    * {
      box-sizing: border-box;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      margin: 0;
      background: #00101a;
      overflow-x: hidden;
      overflow-y: auto;
    }

    .bg-video {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -2;
    }

    .bg-overlay {
      position: fixed;
      inset: 0;
      background: radial-gradient(
          circle at top,
          rgba(255, 255, 255, 0.12),
          transparent 55%
        ),
        linear-gradient(
          to bottom,
          rgba(0, 0, 30, 0.85),
          rgba(0, 0, 0, 0.95)
        );
      z-index: -1;
    }

    .language-switcher-top {
      position: fixed;
      top: 0.75rem;
      right: 0.75rem;
      display: flex;
      align-items: center;
      gap: 0.3rem;
      z-index: 2;
      font-size: 0.8rem;
      background: rgba(0, 0, 0, 0.25);
      padding: 0.25rem 0.4rem;
      border-radius: 999px;
      backdrop-filter: blur(6px);
    }

    .language-switcher-top .lang-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.2rem;
      border: none;
      border-radius: 999px;
      padding: 0.15rem 0.4rem;
      background: rgba(255, 255, 255, 0.7);
      font: inherit;
      cursor: pointer;
      opacity: 0.75;
      transition: background 0.2s ease, opacity 0.2s ease, transform 0.1s ease;
    }

    .language-switcher-top .lang-btn span.code {
      font-size: 0.7rem;
      text-transform: uppercase;
    }

    .language-switcher-top .flag-icon {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      object-fit: cover;
      box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.25);
    }

    .language-switcher-top .lang-btn.active {
      opacity: 1;
      background: #ffffff;
      transform: translateY(-1px);
    }

    .language-switcher-top .lang-btn:hover {
      opacity: 1;
      background: #ffffff;
    }

    .content-wrapper {
      position: relative;
      width: 100%;
      max-width: 620px;
      margin: 3rem auto 2.5rem;
      padding: 0 1rem 1.5rem;
      text-align: center;
    }

    .card {
      position: relative;
      max-width: 520px;
      width: 100%;
      margin: 0 auto;
      padding: 1.75rem 1.75rem 1.8rem;
      border-radius: 24px;
      background: rgba(0, 8, 20, 0.9);
      box-shadow: 0 18px 45px rgba(0, 0, 0, 0.65);
      color: #f9fbff;
      border: 1px solid rgba(255, 255, 255, 0.08);
      text-align: center;
    }

    .logo {
      display: block;
      margin: 0 auto 0.75rem;
      max-width: 260px;
      width: 70%;
      height: auto;
      border-radius: 16px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5);
    }

    h1 {
      margin: 0 0 0.4rem;
      font-size: clamp(1.7rem, 2.15vw, 2.1rem);
      letter-spacing: 0.05em;
      text-transform: uppercase;
      color: #e4f2ff;
    }

    p {
      margin: 0;
    }

    .tagline {
      font-size: 0.95rem;
      margin-bottom: 0.4rem;
      color: #dfe9ff;
    }

    .tagline-2 {
      font-size: 1.05rem;
      font-weight: 600;
      margin-bottom: 1.2rem;
      color: #f5f9ff;
    }

    .highlight {
      color: #7cdfff;
      font-weight: 600;
    }

    .signup-section {
      margin-top: 1.2rem;
      padding: 1.1rem 1.1rem 0.9rem;
      border-radius: 16px;
      background: linear-gradient(
          135deg,
          rgba(35, 124, 255, 0.35),
          rgba(127, 216, 255, 0.08)
        ),
        rgba(2, 20, 40, 0.9);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.5);
      text-align: left;
      border: 1px solid rgba(124, 223, 255, 0.35);
    }

    .signup-section h2 {
      margin: 0 0 0.4rem;
      font-size: 1.05rem;
      color: #f7fbff;
    }

    .signup-subtext {
      margin: 0 0 0.6rem;
      font-size: 0.9rem;
      color: #e3f4ff;
      line-height: 1.4;
    }

    .signup-disclaimer {
      margin-top: 0.6rem;
      font-size: 0.75rem;
      color: #d5e5ff;
      line-height: 1.4;
    }

    .signup-disclaimer a {
      color: #d5f1ff;
      text-decoration: underline;
      text-decoration-thickness: 1px;
    }

    .signup-iframe {
      border-radius: 10px;
      overflow: hidden;
      margin-top: 0.25rem;
    }

    .eco-badge img {
      display: block;
      margin-left: auto;
      margin-right: auto;
      margin-top: 0.1rem;
      margin-bottom: 0.1rem;
      max-width: 100%;
    }

    .eco-badge {
      margin-top: 0.35rem;
      display: flex;
      justify-content: center;
    }

    .eco-icon {
      width: 18px;
      height: 18px;
      border-radius: 999px;
      object-fit: cover;
      flex-shrink: 0;
    }

    .footer {
      margin-top: 0.9rem;
      font-size: 0.8rem;
      color: #c8d6f5;
      opacity: 0.9;
    }

    .footer a {
      color: #e4f1ff;
      text-decoration: underline;
      text-decoration-thickness: 1px;
    }

    .lang-toast {
      position: fixed;
      bottom: 1rem;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.8);
      color: #ffffff;
      padding: 0.4rem 0.9rem;
      border-radius: 999px;
      font-size: 0.8rem;
      z-index: 10;
      display: none;
      align-items: center;
      gap: 0.5rem;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .lang-toast.show {
      display: flex;
    }

    .lang-toast button {
      background: transparent;
      border: 1px solid rgba(255, 255, 255, 0.7);
      border-radius: 999px;
      padding: 0.1rem 0.6rem;
      color: inherit;
      font-size: 0.75rem;
      cursor: pointer;
    }

    .lang-toast button:hover {
      background: rgba(255, 255, 255, 0.15);
    }

    @media (max-width: 480px) {
      .content-wrapper {
        margin-top: 3.5rem;
        margin-bottom: 2.5rem;
      }
    }
  </style>
</head>
<body>
  <!-- Top-right language selector -->
  <div class="language-switcher-top">
    <button class="lang-btn" data-lang="en">
      <img src="flag_en.png" alt="English" class="flag-icon" />
      <span class="code">EN</span>
    </button>
    <button class="lang-btn" data-lang="it">
      <img src="flag_it.png" alt="Italiano" class="flag-icon" />
      <span class="code">IT</span>
    </button>
    <button class="lang-btn" data-lang="de">
      <img src="flag_de.png" alt="Deutsch" class="flag-icon" />
      <span class="code">DE</span>
    </button>
    <button class="lang-btn" data-lang="fr">
      <img src="flag_fr.png" alt="Fran√ßais" class="flag-icon" />
      <span class="code">FR</span>
    </button>
  </div>

  <!-- Background video -->
  <video class="bg-video" autoplay muted loop playsinline>
    <source src="ocean.mp4" type="video/mp4" />
    Your browser does not support the video tag.
  </video>
  <div class="bg-overlay"></div>

  <div class="content-wrapper">
    <div class="card">
      <img
        src="BlueDolphinWHITE_Sunset.jpg"
        alt="Blue Dolphin Beach Home logo"
        class="logo"
      />

      <h1 data-i18n="heading">Blue Dolphin Beach Home</h1>
      <p class="tagline" data-i18n="tagline1">
        We are working on our Sardinian vacation home! üê¨üåä
      </p>
      <p class="tagline tagline-2" data-i18n="tagline2">
        See you in 2026!
      </p>

      <div class="signup-section">
        <h2 data-i18n="signupTitle">Be the First to Stay at Blue Dolphin Beach Home!</h2>
        <p class="signup-subtext" data-i18n="signupSub">
          Join our pre-launch VIP list for opening dates, early-bird offers,
          and Sardinia travel tips. No spam, ever.
        </p>

        <!-- Brevo form iframe (language-specific) -->
        <iframe
          id="signupFormFrame"
          class="signup-iframe"
          width="540"
          height="250"
          src=""
          frameborder="0"
          scrolling="auto"
          allowfullscreen
          style="max-width: 100%;"
        ></iframe>

        <p class="signup-disclaimer" data-i18n="signupDisclaimer">
          By subscribing, you consent to receive occasional emails about Blue Dolphin
          Beach Home and Sardinia travel tips (marketing communications). Your data
          will be handled by Brevo (Sendinblue) on our behalf and processed in
          accordance with our
          <a href="/privacy.html" target="_blank" rel="noopener noreferrer">Privacy Policy</a>.
          You can withdraw your consent at any time via the unsubscribe link in our emails.
        </p>

        <div class="eco-badge">
          <img src="leaf.jpg" alt="Eco-friendly" class="eco-icon" />
        </div>
      </div>
    </div>

    <!-- Language-aware footer -->
    <footer class="footer">
      <a
        id="footerPrivacyLink"
        href="/privacy.html"
        target="_blank"
        rel="noopener noreferrer"
      >
        Privacy Policy
      </a>
    </footer>
  </div>

  <!-- Language auto-detect toast -->
  <div class="lang-toast" id="langToast">
    <span id="langToastText">
      We switched you to English based on your browser settings. You can change the language above.
    </span>
    <button type="button" id="langToastClose">OK</button>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const translations = {
        en: {
          htmlLang: "en",
          metaDescription:
            "Blue Dolphin Beach Home ‚Äì a Sardinian vacation home near the beach, opening for guests in 2026.",
          ogDescription:
            "We are working on our Sardinian vacation home! See you in 2026. üê¨üåä",
          twitterDescription:
            "We are working on our Sardinian vacation home! See you in 2026. üê¨üåä",
          heading: "Blue Dolphin Beach Home",
          tagline1: "We are working on our Sardinian vacation home! üê¨üåä",
          tagline2: "See you in 2026!",
          signupTitle: "Be the First to Stay at Blue Dolphin Beach Home!",
          signupSub:
            "Join our pre-launch VIP list for opening dates, early-bird offers, and Sardinia travel tips. No spam, ever.",
          signupDisclaimer:
            'By subscribing, you consent to receive occasional emails about Blue Dolphin Beach Home and Sardinia travel tips (marketing communications). Your data will be handled by Brevo (Sendinblue) on our behalf and processed in accordance with our <a href="{{PRIVACY_PATH}}" target="_blank" rel="noopener noreferrer">Privacy Policy</a>. You can withdraw your consent at any time via the unsubscribe link in our emails.',
          autoToast:
            "We switched the language based on your browser settings. You can change it at any time using the flags above.",
          formSrc:
            "https://be40dcae.sibforms.com/serve/MUIFAIMKpAnZX5ruXPFPs043FMRsz0De_pE146_ihb2KzU8Bgz5kovZkf8669iCi1o0N1ORnfECZH0MLFe1EMEQ-fCMBk35H8JpM7rWZ4ymLKxCqiOG7BR5WHdOabns_d2PU3VSLM6I32oD0OthyX8ZuVTJiYqww03pF4yhy_BMU9W7W22p73_CkRIiP0GbcuR-6IASc1Yeo7Tg0Mg==",
          footerPrivacyText: "Privacy Policy"
        },
        it: {
          htmlLang: "it",
          metaDescription:
            "Blue Dolphin Beach Home ‚Äì una casa vacanze in Sardegna vicino al mare, apertura agli ospiti nel 2026.",
          ogDescription:
            "Stiamo lavorando alla nostra casa vacanze in Sardegna! Ti aspettiamo nel 2026. üê¨üåä",
          twitterDescription:
            "Stiamo lavorando alla nostra casa vacanze in Sardegna! Ti aspettiamo nel 2026. üê¨üåä",
          heading: "Blue Dolphin Beach Home",
          tagline1:
            "Stiamo lavorando alla nostra casa vacanze in Sardegna! üê¨üåä",
          tagline2: "Ti aspettiamo nel 2026!",
          signupTitle:
            "Sii il primo a soggiornare al Blue Dolphin Beach Home!",
          signupSub:
            "Iscriviti alla lista VIP pre-apertura per date di apertura, offerte in anteprima e consigli di viaggio sulla Sardegna. Niente spam, promesso.",
          signupDisclaimer:
            'Iscrivendoti, acconsenti a ricevere occasionalmente e-mail su Blue Dolphin Beach Home e consigli di viaggio sulla Sardegna (comunicazioni di marketing). I tuoi dati saranno gestiti da Brevo (Sendinblue) per nostro conto e trattati in conformit√† con la nostra <a href="{{PRIVACY_PATH}}" target="_blank" rel="noopener noreferrer">Informativa sulla privacy</a>. Puoi revocare il tuo consenso in qualsiasi momento tramite il link di cancellazione presente nelle nostre e-mail.',
          autoToast:
            "Abbiamo impostato la lingua in base alle impostazioni del tuo browser. Puoi cambiarla in qualsiasi momento usando le bandierine in alto.",
          formSrc:
            "https://be40dcae.sibforms.com/serve/MUIFABnVj953H7P2_GkjRa9SUQOMbAM-QqgBPdU1cpqB5ltMTCgSe0Lz82toCxVA6jAGPbfmGeNCJFfzQYy7ln0jLXJ3rxR-5cwdPmSUkyLG8leZuNliarFWNgG9DO_gySnG7GAC8yhomnvz2tAWSbNc23hXwm3n46KBTGq_wxxtXSflLXDQAAe6yZt8uIfpFixJW_eu6J3c7EyWIA==",
          footerPrivacyText: "Informativa sulla privacy"
        },
        de: {
          htmlLang: "de",
          metaDescription:
            "Blue Dolphin Beach Home ‚Äì ein Ferienhaus auf Sardinien in Strandn√§he, er√∂ffnet f√ºr G√§ste im Jahr 2026.",
          ogDescription:
            "Wir arbeiten an unserem Ferienhaus auf Sardinien! Wir sehen uns 2026. üê¨üåä",
          twitterDescription:
            "Wir arbeiten an unserem Ferienhaus auf Sardinien! Wir sehen uns 2026. üê¨üåä",
          heading: "Blue Dolphin Beach Home",
          tagline1:
            "Wir arbeiten an unserem Ferienhaus auf Sardinien! üê¨üåä",
          tagline2: "Wir sehen uns 2026!",
          signupTitle:
            "Seien Sie die Ersten, die im Blue Dolphin Beach Home √ºbernachten!",
          signupSub:
            "Tragen Sie sich in unsere VIP-Liste vor der Er√∂ffnung ein und erhalten Sie √ñffnungstermine, Fr√ºhbucher-Angebote und Reisetipps f√ºr Sardinien. Kein Spam, versprochen.",
          signupDisclaimer:
            'Mit Ihrer Anmeldung stimmen Sie zu, gelegentlich E-Mails √ºber Blue Dolphin Beach Home und Reisetipps f√ºr Sardinien zu erhalten (Marketing-Mitteilungen). Ihre Daten werden von Brevo (Sendinblue) in unserem Auftrag verwaltet und gem√§√ü unserer <a href="{{PRIVACY_PATH}}" target="_blank" rel="noopener noreferrer">Datenschutzerkl√§rung</a> verarbeitet. Sie k√∂nnen Ihre Einwilligung jederzeit √ºber den Abmeldelink in unseren E-Mails widerrufen.',
          autoToast:
            "Wir haben die Sprache auf Grundlage Ihrer Browser-Einstellungen gew√§hlt. Sie k√∂nnen sie jederzeit √ºber die Flaggen oben √§ndern.",
          formSrc:
            "https://be40dcae.sibforms.com/serve/MUIFAAzPb9A4-Vd2EoWbmU2wl1SfVBD9VuADIbsvwPXIonl78nRlKptKFLxnDoA8lwwCDlVQv7Vgi9OBQzO7RkHAltMwe5AR5dXpU0iZPedt60eauRsmaztEMnE14L2LX33mTGTTv_mOgbBQr-hMtJGHvrcQUFzUgguxmvmjZCHMd9Sit2uWPm6vYqdyRBkl1KdgOhc4VV_RUKyr7A==",
          footerPrivacyText: "Datenschutzerkl√§rung"
        },
        fr: {
          htmlLang: "fr",
          metaDescription:
            "Blue Dolphin Beach Home ‚Äì une maison de vacances en Sardaigne pr√®s de la plage, ouvrant aux invit√©s en 2026.",
          ogDescription:
            "Nous pr√©parons notre maison de vacances en Sardaigne ! √Ä tr√®s bient√¥t en 2026. üê¨üåä",
          twitterDescription:
            "Nous pr√©parons notre maison de vacances en Sardaigne ! √Ä tr√®s bient√¥t en 2026. üê¨üåä",
          heading: "Blue Dolphin Beach Home",
          tagline1:
            "Nous pr√©parons notre maison de vacances en Sardaigne ! üê¨üåä",
          tagline2: "√Ä tr√®s bient√¥t en 2026 !",
          signupTitle:
            "Soyez parmi les premiers √† s√©journer au Blue Dolphin Beach Home !",
          signupSub:
            "Rejoignez notre liste VIP de pr√©-ouverture pour recevoir les dates d‚Äôouverture, les offres en avant-premi√®re et des conseils de voyage en Sardaigne. Jamais de spam.",
          signupDisclaimer:
            'En vous inscrivant, vous acceptez de recevoir occasionnellement des e-mails concernant Blue Dolphin Beach Home et des conseils de voyage en Sardaigne (communications marketing). Vos donn√©es seront trait√©es par Brevo (Sendinblue) pour notre compte et conform√©ment √† notre <a href="{{PRIVACY_PATH}}" target="_blank" rel="noopener noreferrer">Politique de confidentialit√©</a>. Vous pouvez retirer votre consentement √† tout moment via le lien de d√©sinscription pr√©sent dans nos e-mails.',
          autoToast:
            "Nous avons choisi la langue en fonction des param√®tres de votre navigateur. Vous pouvez la modifier √† tout moment gr√¢ce aux drapeaux ci-dessus.",
          formSrc:
            "https://be40dcae.sibforms.com/serve/MUIFALwv6VTlA3OwhCn1g2noKKk1AA2VpdRWfIZuinkv71yymNoIO9e6JKRDy1O1EZ043XMgsTgYDSx6EFkgwmK2ZbpR_Xj5iTHk3Hhzu4Qmh9c1MDzpl7kB7nCFYd3cXIsZWqDVIP9HwlON54nfKcnZXjqEU0EdCJkXlLFrvCWZYpZXXFCsLZl8_uh58_A5TzqjiNp0CgjZYMHDrQ==",
          footerPrivacyText: "Politique de confidentialit√©"
        }
      };

      const PRIVACY_PATHS = {
        en: "/privacy.html",
        it: "/privacy-it.html",
        de: "/privacy-de.html",
        fr: "/privacy-fr.html"
      };

      const SUPPORTED_LANGS = ["en", "it", "de", "fr"];

      const el = {
        html: document.documentElement,
        heading: document.querySelector('[data-i18n="heading"]'),
        tagline1: document.querySelector('[data-i18n="tagline1"]'),
        tagline2: document.querySelector('[data-i18n="tagline2"]'),
        signupTitle: document.querySelector('[data-i18n="signupTitle"]'),
        signupSub: document.querySelector('[data-i18n="signupSub"]'),
        signupDisclaimer: document.querySelector('[data-i18n="signupDisclaimer"]'),
        metaDescription: document.querySelector('meta[name="description"]'),
        ogDescription: document.querySelector('meta[property="og:description"]'),
        twitterDescription: document.querySelector('meta[name="twitter:description"]'),
        formFrame: document.getElementById("signupFormFrame"),
        toast: document.getElementById("langToast"),
        toastText: document.getElementById("langToastText"),
        toastClose: document.getElementById("langToastClose"),
        footerPrivacyLink: document.getElementById("footerPrivacyLink")
      };

      function normalizeLang(code) {
        if (!code) return null;
        const lower = code.toLowerCase();
        const base = lower.split(/[-_]/)[0];
        return SUPPORTED_LANGS.includes(base) ? base : null;
      }

      function getLangFromUrl() {
        const params = new URLSearchParams(window.location.search);
        const param = params.get("lang");
        return normalizeLang(param);
      }

      function getLangFromStorage() {
        try {
          const stored = localStorage.getItem("bd_lang");
          return normalizeLang(stored);
        } catch (e) {
          return null;
        }
      }

      function getLangFromBrowser() {
        const candidates = [];

        if (Array.isArray(navigator.languages)) {
          candidates.push(...navigator.languages);
        }
        if (navigator.language) {
          candidates.push(navigator.language);
        }
        try {
          const intlLocale = Intl.DateTimeFormat().resolvedOptions().locale;
          if (intlLocale) candidates.push(intlLocale);
        } catch (e) {}

        for (const c of candidates) {
          const normalized = normalizeLang(c);
          if (normalized) return normalized;
        }
        return "en";
      }

      function detectInitialLanguage() {
        const fromUrl = getLangFromUrl();
        if (fromUrl) return { lang: fromUrl, source: "url" };

        const fromStorage = getLangFromStorage();
        if (fromStorage) return { lang: fromStorage, source: "storage" };

        const fromBrowser = getLangFromBrowser();
        return { lang: fromBrowser, source: "browser" };
      }

      function setLanguage(lang, persist = true) {
        const t = translations[lang] || translations.en;
        const privacyPath = PRIVACY_PATHS[lang] || PRIVACY_PATHS.en;

        if (el.html) el.html.lang = t.htmlLang || "en";

        if (el.heading) el.heading.textContent = t.heading;
        if (el.tagline1) el.tagline1.textContent = t.tagline1;
        if (el.tagline2) el.tagline2.textContent = t.tagline2;
        if (el.signupTitle) el.signupTitle.textContent = t.signupTitle;
        if (el.signupSub) el.signupSub.textContent = t.signupSub;

        if (el.signupDisclaimer && t.signupDisclaimer) {
          el.signupDisclaimer.innerHTML = t.signupDisclaimer.replace(
            "{{PRIVACY_PATH}}",
            privacyPath
          );
        }

        if (el.metaDescription) {
          el.metaDescription.setAttribute("content", t.metaDescription);
        }
        if (el.ogDescription) {
          el.ogDescription.setAttribute("content", t.ogDescription);
        }
        if (el.twitterDescription) {
          el.twitterDescription.setAttribute("content", t.twitterDescription);
        }

        if (el.formFrame && t.formSrc) {
          const url = t.formSrc.trim();
          if (el.formFrame.src !== url) {
            el.formFrame.setAttribute("src", url);
          }
        }

        // Footer privacy link
        if (el.footerPrivacyLink) {
          el.footerPrivacyLink.setAttribute("href", privacyPath);
          el.footerPrivacyLink.textContent =
            t.footerPrivacyText || "Privacy Policy";
        }

        document
          .querySelectorAll(".language-switcher-top .lang-btn")
          .forEach((btn) => {
            btn.classList.toggle("active", btn.dataset.lang === lang);
          });

        if (persist) {
          try {
            localStorage.setItem("bd_lang", lang);
          } catch (e) {}
        }
      }

      const initial = detectInitialLanguage();
      setLanguage(initial.lang, false);

      if (initial.source === "browser" && el.toast && el.toastText) {
        const t = translations[initial.lang] || translations.en;
        if (t.autoToast) {
          el.toastText.textContent = t.autoToast;
          el.toast.classList.add("show");
        }
      }

      if (el.toast && el.toastClose) {
        el.toastClose.addEventListener("click", function () {
          el.toast.classList.remove("show");
        });
      }

      document
        .querySelectorAll(".language-switcher-top .lang-btn")
        .forEach((btn) => {
          btn.addEventListener("click", function () {
            const lang = this.dataset.lang;
            setLanguage(lang, true);
            if (el.toast) {
              el.toast.classList.remove("show");
            }
          });
        });
    });
  </script>
</body>
</html>
